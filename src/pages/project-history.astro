---
import Layout from '../layouts/Layout.astro';
import Services from '../components/Services.astro';
import Timeline from '../components/Timeline.astro';
import siteTextData from '../data/sitetext.yml';
import { siteConfig } from '../site_config';

const t = (siteTextData as any)[siteConfig.locale];
const staff = t.staff;
const team = t.team; // Committee
const committee = t.committee; // Years/Archive
---

<Layout title="Project History" description="The history, team, and goals of the UCLA IMLS Open Science project.">
  <header class="masthead" style="background-image: url('/assets/img/background-image-blue.png'); background-size: cover; height: 40vh; min-height: 300px;">
    <div class="container h-100">
      <div class="row h-100 align-items-center justify-content-center text-center">
        <div class="col-lg-10 align-self-end">
          <h1 class="text-white font-weight-bold" style="text-shadow: 2px 2px 4px rgba(0,0,0,0.6);">About the Project</h1>
          <hr class="divider my-4" style="border-color: #ffd100; border-width: 3px; max-width: 50px;" />
        </div>
        <div class="col-lg-8 align-self-baseline">
          <p class="text-white-75 font-weight-light" style="text-shadow: 1px 1px 2px rgba(0,0,0,0.5);">
            Funded by the IMLS Laura Bush 21st Century Librarian Program.
          </p>
        </div>
      </div>
    </div>
  </header>

  <Services />
  <Timeline />

  <!-- Unified Team Section -->
  <section class="page-section bg-light" id="team">
    <div class="container">
      
      <!-- Staff Subsection -->
      <div class="row mb-5">
        <div class="col-lg-12 text-center">
          <h2 class="section-heading text-uppercase">Project Staff</h2>
          <h3 class="section-subheading text-muted">The core team behind the curriculum development and workshops.</h3>
        </div>
      </div>
      <div class="row justify-content-center mb-5">
        {staff.people.map((person: any) => (
          <div class="col-sm-4">
            <div class="team-member text-center">
              <img class="mx-auto rounded-circle" src={person.image} alt={person.name} style="width: 200px; height: 200px; object-fit: cover; border: 7px solid rgba(0,0,0,0.1);" />
              <h4 class="mt-3">{person.name}</h4>
              <p class="text-muted">{person.role}</p>
              <ul class="list-inline social-buttons">
                {person.social && person.social.map((network: any) => (
                  <li class="list-inline-item">
                    <a href={network.url} target="_blank" rel="noopener noreferrer" class="btn btn-dark btn-social mx-1" style="width: 40px; height: 40px; line-height: 40px; border-radius: 50%; display: inline-block; padding: 0;">
                      <i class={network.icon}></i>
                    </a>
                  </li>
                ))}
              </ul>
            </div>
          </div>
        ))}
      </div>

      <!-- Committee Subsection -->
      <div class="row mb-5 mt-5 border-top pt-5">
        <div class="col-lg-12 text-center">
          <h2 class="section-heading text-uppercase">Advisory Committee</h2>
          <h3 class="section-subheading text-muted">Reviewers and experts guiding the project.</h3>
        </div>
      </div>
      <div class="row">
        {team.people.map((person: any) => (
          <div class="col-6 col-md-3 mb-4"> <!-- More compact: 4 per row on desktop -->
            <div class="team-member text-center small-member">
              <img class="mx-auto rounded-circle" src={person.image} alt={person.name} style="width: 130px; height: 130px; object-fit: cover; border: 5px solid rgba(0,0,0,0.1);" />
              <h5 class="mt-3 mb-1" style="font-size: 1.1rem;">{person.name}</h5>
              <p class="text-muted small mb-2">{person.role}</p>
              <!-- Minimal social links for committee -->
              <ul class="list-inline social-buttons mb-0">
                {person.social && person.social.map((network: any) => (
                  <li class="list-inline-item">
                    <a href={network.icon === "fas fa-envelope" ? `mailto:${network.url}` : network.url} target="_blank" rel="noopener noreferrer" class="text-muted">
                        <i class={network.icon}></i>
                    </a>
                  </li>
                ))}
              </ul>
            </div>
          </div>
        ))}
      </div>

      <!-- Archive Links -->
      <div class="row mt-5">
        <div class="col-lg-12 text-center">
            <p class="text-muted">
                See also: 
                {committee.years.map((year: any) => (
                    <a href={`/${year.year}-committee.html`} class="ml-2 font-weight-bold">{year.year} Review Committee</a>
                ))}
            </p>
        </div>
      </div>

      <!-- Acknowledgements -->
      <div class="row mt-5 border-top pt-5">
        <div class="col-lg-8 mx-auto text-center">
            <h3 class="section-subheading text-muted mb-4">Acknowledgements</h3>
            <p class="mb-3">
                This project was made possible by the <strong>Institute of Museum and Library Services (IMLS)</strong> (Grant RE-252335-OLS-22).
            </p>
            <p class="text-muted small">
                We gratefully acknowledge the support of <strong>Virginia Steel</strong> (University Librarian, UCLA) as Principal Investigator, and <strong>Todd Grappone</strong> and <strong>Elizabeth McAulay</strong> as Co-Principal Investigators. We also thank the UCLA Library Grants Team for their administrative guidance.
            </p>
        </div>
      </div>

    </div>
  </section>
</Layout>