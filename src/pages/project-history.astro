---
import Layout from '../layouts/Layout.astro';
import Services from '../components/Services.astro';
import Timeline from '../components/Timeline.astro';
import Citation from '../components/Citation.astro';
import siteTextData from '../data/sitetext.yml';
import { siteConfig } from '../site_config';

const t = (siteTextData as any)[siteConfig.locale];
const staff = t.staff;
const team = t.team; // Committee
const committee = t.committee; // Years/Archive
---

<Layout title="Project History" description="The history, team, and goals of the UCLA IMLS Open Science project.">
  <header class="masthead" style="background-image: url('/assets/img/background-image-blue.png'); background-size: cover; height: 40vh; min-height: 300px;">
    <div class="container h-100">
      <div class="row h-100 align-items-center justify-content-center text-center">
        <div class="col-lg-10 align-self-end">
          <h1 class="text-white font-weight-bold" style="text-shadow: 2px 2px 4px rgba(0,0,0,0.6);">About the Project</h1>
          <hr class="divider my-4" style="border-color: #ffd100; border-width: 3px; max-width: 50px;" />
        </div>
        <div class="col-lg-8 align-self-baseline">
          <p class="text-white-75 font-weight-light" style="text-shadow: 1px 1px 2px rgba(0,0,0,0.5);">
            Funded by the IMLS Laura Bush 21st Century Librarian Program.
          </p>
        </div>
      </div>
    </div>
  </header>

  <Services />

  <!-- Unified Team Section -->
  <section class="page-section bg-light" id="team">
    <div class="container">
      
      <!-- Staff Subsection -->
      <div class="row mb-5">
        <div class="col-lg-12 text-center">
          <h2 class="section-heading text-uppercase">Project Team</h2>
          <h3 class="section-subheading text-muted">The core team behind the curriculum development and workshops.</h3>
        </div>
      </div>
      <div class="row justify-content-center mb-5">
        {staff.people.map((person: any) => (
          <div class="col-sm-4">
            <div class="team-member text-center">
              <img class="mx-auto rounded-circle" src={person.image} alt={person.name} style="width: 200px; height: 200px; object-fit: cover; border: 7px solid rgba(0,0,0,0.1);" />
              <h4 class="mt-3">{person.name}</h4>
              <p class="text-muted">{person.role}</p>
              <ul class="list-inline social-buttons">
                {person.social && person.social.map((network: any) => (
                  <li class="list-inline-item">
                    <a href={network.url} target="_blank" rel="noopener noreferrer" class="btn btn-dark btn-social mx-1" style="width: 40px; height: 40px; line-height: 40px; border-radius: 50%; display: inline-block; padding: 0;">
                      <i class={network.icon}></i>
                    </a>
                  </li>
                ))}
              </ul>
            </div>
          </div>
        ))}
      </div>

      <!-- Committee Subsection -->
      <div class="row mb-5 mt-5 border-top pt-5">
        <div class="col-lg-12 text-center">
          <h2 class="section-heading text-uppercase">Review Committee</h2>
          <h3 class="section-subheading text-muted">Reviewers and experts guiding the project.</h3>
        </div>
      </div>
      <div class="row">
        {team.people.map((person: any) => (
          <div class="col-6 col-md-3 mb-4"> <!-- More compact: 4 per row on desktop -->
            <div class="team-member text-center small-member">
              <img class="mx-auto rounded-circle" src={person.image} alt={person.name} style="width: 130px; height: 130px; object-fit: cover; border: 5px solid rgba(0,0,0,0.1);" />
              <h5 class="mt-3 mb-1" style="font-size: 1.1rem;">{person.name}</h5>
              <p class="text-muted small mb-2">{person.role}</p>
              <!-- Minimal social links for committee -->
              <ul class="list-inline social-buttons mb-0">
                {person.social && person.social.map((network: any) => (
                  <li class="list-inline-item">
                    <a href={network.icon === "fas fa-envelope" ? `mailto:${network.url}` : network.url} target="_blank" rel="noopener noreferrer" class="text-muted">
                        <i class={network.icon}></i>
                    </a>
                  </li>
                ))}
              </ul>
            </div>
          </div>
        ))}
      </div>

      <!-- Citation -->
      <div class="row mt-5 border-top pt-5 justify-content-center">
        <div class="col-lg-10">
            <Citation />
        </div>
      </div>

      <!-- Community & Partners -->
      <div class="row mt-5 border-top pt-5">
        <div class="col-lg-12 text-center mb-4">
            <h3 class="section-heading text-uppercase">Community & Partners</h3>
            <p class="text-muted">This project relies on the guidance and frameworks of the wider community.</p>
        </div>
        <div class="col-md-6 mb-4">
            <div class="card h-100 border-0 shadow-sm bg-white">
                <div class="card-body text-center">
                    <img src="/assets/img/TheCarpentries.svg" alt="The Carpentries" style="height: 50px;" class="mb-3" />
                    <h5 class="card-title">The Carpentries</h5>
                    <p class="card-text small text-muted">
                        We extensively utilized <a href="https://carpentries.github.io/lesson-development-training/" target="_blank">The Carpentries Collaborative Lesson Development Training</a> materials to train our author cohorts.
                    </p>
                    <p class="card-text small text-muted">
                        Special thanks to <strong>Toby Hodges</strong> (Director of Curriculum) for his invaluable guidance on lesson infrastructure and best practices.
                    </p>
                </div>
            </div>
        </div>
        <div class="col-md-6 mb-4">
            <div class="card h-100 border-0 shadow-sm bg-white">
                <div class="card-body text-center">
                    <img src="/assets/img/LibraryCarpentry.png" alt="Library Carpentry" style="height: 50px;" class="mb-3" />
                    <h5 class="card-title">Library Carpentry</h5>
                    <p class="card-text small text-muted">
                        We thank <strong>Cody Hennesy</strong> (Co-Chair, Library Carpentry Curriculum Advisory Committee) for his strategic leadership in defining the lesson adoption policy and governance workflow.
                    </p>
                </div>
            </div>
        </div>
      </div>

      <!-- Acknowledgements -->
      <div class="row mt-5 border-top pt-5">
        <div class="col-lg-8 mx-auto text-center">
            <h3 class="section-subheading text-muted mb-4">Acknowledgements</h3>
            <p class="mb-3">
                This project was made possible in part by the <strong>Institute of Museum and Library Services (IMLS)</strong> (Grant RE-252335-OLS-22).
            </p>
            <p class="text-muted small">
                We gratefully acknowledge the support of <strong>Virginia Steel</strong> and <strong>Athena Jackson</strong> (University Librarians, UCLA) who served as Principal Investigators for administrative purposes.
            </p>
            <p class="text-muted small">
                We also thank <strong>Todd Grappone</strong> (Co-Principal Investigator) for his vital leadership and contribution to the project's inception.
            </p>
            <p class="text-muted small">
                Finally, we thank the UCLA Library Grants Team for their essential administrative guidance throughout the project.
            </p>
        </div>
      </div>

    </div>
  </section>

  <Timeline />
</Layout>