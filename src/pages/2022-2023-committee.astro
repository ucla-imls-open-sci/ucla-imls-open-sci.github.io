---
import Layout from '../layouts/PageLayout.astro';
import { siteConfig } from '../site_config';
import siteTextData from '../data/sitetext.yml';
import { marked } from 'marked';

const t = (siteTextData as any)[siteConfig.locale];
const committee2223 = t.committee.years.find((y: any) => y.year === '2022-2023') || t.committee.years[0]; 
const teamText = t.team.text;
const teamSubtext = t.team.subtext;
---
<Layout title={`${committee2223.year} Committee`}>
<section class="page-section" id="team">
    <div class="container">
      <div class="row">
        <div class="col-lg-12 text-center">
          <h2 class="section-heading text-uppercase">{committee2223.year} Committee</h2>
          <h3 class="section-subheading text-muted">{teamText}</h3>
        </div>
      </div>
      <div class="row">
      {committee2223.people.map((person: any) => (
        <div class="col-sm-4">
          <div class="team-member">
            <img class="mx-auto rounded-circle" src={person.image} alt="" />
            <h4>{person.name}</h4>
            <p class="text-muted">{person.role}</p>
            <ul class="list-inline social-buttons">
            {person.social && person.social.map((network: any) => (
              <li class="list-inline-item">
                <a href={network.icon === "fas fa-envelope" ? `mailto:${network.url}` : network.url} aria-label={`Social link for ${person.name}`}>
                  <i class={network.icon}></i>
                </a>
              </li>
            ))}
            </ul>
          </div>
        </div>
      ))}
      </div>
      <div class="row">
        <div class="col-lg-8 mx-auto text-center">
          <div class="large text-muted" set:html={marked.parse(teamSubtext || "")}></div>
        </div>
      </div>
    </div>
</section>
</Layout>
