---
import Layout from '../layouts/PageLayout.astro';
import { siteConfig } from '../site_config';
import siteTextData from '../data/sitetext.yml';

const t = (siteTextData as any)[siteConfig.locale];
const lessontab = t.lessontab;
// Find 2022-2023 or default to first found if logic differs
const lessons2223 = lessontab.years.find((y: any) => y.year === '2022-2023') || lessontab.years[0];
---
<Layout title={`2022-23 ${lessontab.title}`}>
<div class="container">
    <div class="row">
        <div class="col-lg-12 text-center">
            <h2 class="section-heading text-uppercase">2022-23 {lessontab.title}</h2>
            <h3 class="section-subheading text-muted">{lessontab.text}</h3>
        </div>
    </div>

    <table class="table table-striped">
        <thead>
            <tr>
                <th>Lesson</th>
                <th>Site</th>
                <th>Repository</th>
                <th>Instructor Notes</th>
                <th>Status</th>
                <th>Author(s)</th>
            </tr>
        </thead>
        <tbody>
        {lessons2223.lessons.map((lesson: any) => (
        <tr>
            <td>{lesson['lesson-title']}</td>
            <td>
                {lesson.site && <a href={lesson.site} target="_blank" class="fa fa-laptop" aria-label={`Lesson Site for ${lesson['lesson-title']}`}></a>}
            </td>
            <td>
                {lesson.repo && <a href={lesson.repo} target="_blank" class="fab fa-github" aria-label={`GitHub Repository for ${lesson['lesson-title']}`}></a>}
            </td>
            <td>
                {lesson.notes && <a href={lesson.notes} target="_blank" class="fa fa-plus-circle" aria-label={`Instructor Notes for ${lesson['lesson-title']}`}></a>}
            </td>
            <td>{lesson.status}</td>
            <td>{lesson.author}</td>
        </tr>
        ))}
        </tbody>
    </table>
</div>
</Layout>
