---
import { siteConfig } from '../site_config';
import siteTextData from '../data/sitetext.yml';
import { marked } from 'marked';

const t = (siteTextData as any)[siteConfig.locale];
const team = t.team;
const committee = t.committee;
---
<section class="page-section" id={team.section || "team"}>
  <div class="container">
    <div class="row">
      <div class="col-lg-12 text-center">
        <h2 class="section-heading text-uppercase">{team.title}</h2>
        <h3 class="section-subheading text-muted">{team.text}</h3>
      </div>
    </div>
    <div class="row">
      {team.people.map((person: any) => (
        <div class="col-sm-4">
          <div class="team-member">
            <img class="mx-auto rounded-circle" src={person.image} alt={person.name} />
            <h4>{person.name}</h4>
            <p class="text-muted">{person.role}</p>
            <ul class="list-inline social-buttons">
              {person.social && person.social.map((network: any) => (
                <li class="list-inline-item">
                  <a href={network.icon === "fas fa-envelope" ? `mailto:${network.url}` : network.url} target="_blank" rel="noopener noreferrer" aria-label={`Social link for ${person.name}`}>
                    <i class={network.icon}></i>
                  </a>
                </li>
              ))}
            </ul>
          </div>
        </div>
      ))}
    </div>
    <div class="row">
      <div class="col-lg-8 mx-auto text-center">
        {team.subtext && <div class="large text-muted" set:html={marked.parse(team.subtext || "")} />}
      </div>
    </div>
  </div>

  <div>
    <div class="container">
      <div class="row">
        <div class="col-lg-12 text-center">
          <h2 class="section-heading text-uppercase"> Our Previous Committees </h2>
        </div>
      </div>
    </div>
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <table class="table">
            <tbody>
            {committee.years.map((year: any) => (
              <tr>
                <td>{year.year}</td>
                <td>
                  <a href={`/${year.year}-committee.html`}>{year.year} Review Committee</a>
                </td>
              </tr>
            ))}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</section>
