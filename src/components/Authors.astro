---
import { siteConfig } from '../site_config';
import siteTextData from '../data/sitetext.yml';

import { slugify } from '../utils/slugs';

const t = (siteTextData as any)[siteConfig.locale];
const authors = t.authors;
---
<section class="page-section" id={authors.section || "authors"}>
  <div class="container">
    <div class="row">
      <div class="col-lg-12 text-center">
        <h2 class="section-heading text-uppercase">{authors.title}</h2>
        {authors.text && <h3 class="section-subheading text-muted">{authors.text}</h3>}
      </div>
    </div>
    <div class="row">
      {authors.people.map((person: any) => {
        const authorSlug = slugify(person.name);
        return (
          <div class="col-sm-4">
            <div class="staff-member text-center mb-5">
              <a href={`/authors/${authorSlug}`}>
                <img class="mx-auto rounded-circle mb-3" src={person.image} alt={person.name} style="width: 200px; height: 200px; overflow: hidden; object-fit: cover;" />
              </a>
              <h4><a href={`/authors/${authorSlug}`} class="text-dark">{person.name}</a></h4>
              <p class="text-muted">{person.role}</p>
              <ul class="list-inline social-buttons">
                {person.social && person.social.map((network: any) => (
                  <li class="list-inline-item">
                    <a 
                      href={network.url.includes('@') ? `mailto:${network.url}` : network.url} 
                      target="_blank" 
                      rel="noopener noreferrer" 
                      aria-label={`Link to ${network.url}`}
                      class={network.url.includes('orcid.org') ? 'orcid-link' : ''}
                    >
                      <i class={network.icon}></i>
                    </a>
                  </li>
                ))}
              </ul>
            </div>
          </div>
        );
      })}
    </div>
  </div>
</section>

<style>
  .orcid-link {
    background-color: white !important; /* White background for the circle */
    border: 1px solid #A6CE39 !important; /* Green border */
  }
  .orcid-link:hover {
    background-color: #f8f9fa !important;
  }
  .orcid-link i {
    color: #A6CE39 !important; /* Green icon (the filled circle + iD cutout) */
  }
</style>
