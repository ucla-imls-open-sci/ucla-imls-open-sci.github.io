---
import { siteConfig } from '../site_config';
import navData from '../data/navigation.yml';

// Access the specific locale's nav data
// We assume structure matches: { [locale]: { nav: [] } }
const navLinks = (navData as any)[siteConfig.locale]?.nav || [];
---
<nav class="navbar navbar-expand-lg navbar-dark fixed-top" id="mainNav">
  <div class="container">
    <a class="navbar-brand js-scroll-trigger" href="/#">
      {siteConfig.logo ? (
        <img height={siteConfig.logo.height} src={siteConfig.logo.path} alt={siteConfig.title} />
      ) : (
        siteConfig.title
      )}
    </a>
    <button
      class="navbar-toggler navbar-toggler-right"
      type="button"
      data-toggle="collapse"
      data-target="#navbarResponsive"
      aria-controls="navbarResponsive"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      Menu<i class="fas fa-bars"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarResponsive">
      <ul class="navbar-nav text-uppercase ml-auto">
        {navLinks.map((link: any) => (
          <li class="nav-item">
            {link.url ? (
               <a class="nav-link js-scroll-trigger" href={link.url}>{link.title}</a>
            ) : link.section ? (
               <a class="nav-link js-scroll-trigger" href={`/#${link.section}`}>{link.title}</a>
            ) : (
               <a class="nav-link js-scroll-trigger" href="/#">{link.title}</a>
            )}
          </li>
        ))}
      </ul>
    </div>
  </div>
</nav>
